@using LoftPM.Client.Authentication
@inherits LayoutComponentBase
@inject AuthenticationStateProvider authStateProvider
@inject NavigationManager navManager



<MudLayout>
    <MudAppBar Elevation="2">
        <MudToolBar DisableGutters="true">
            <MudText Typo="Typo.h6" Class="ml-4">Project Manager</MudText>
            <MudIconButton Icon="@Icons.Material.Outlined.Menu" Color="Color.Inherit" OnClick="@((e) => DrawerToggle())" Class="ml-3" />
        </MudToolBar>
        
        <MudSpacer />

        <AuthorizeView>
            <Authorized>
                <a @onclick = "Logout" href="javascript:void(0)">Logout</a>
            </Authorized>
            <NotAuthorized>
                <a href="Login">Login</a>
            </NotAuthorized>
        </AuthorizeView>

        <MudIconButton Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" Edge="Edge.End" />
    </MudAppBar>
    <MudDrawer @bind-Open="@_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
        <NavMenu/>
    </MudDrawer>
    <MudMainContent>
        <MudContainer>
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

<MudThemeProvider Theme="@_currentTheme"/>
<MudDialogProvider/>
<MudSnackbarProvider/>



